---
title: "Задание 3"
author: "Oleg Romanchuk"
date: 'Assigned: October 31, 2019'
output: 
  html_document:
    toc: true
    toc_depth: 3
    theme: paper
    highlight: tango
---

##### Для выполнения задания следуйте следующему:

1. Замените "Введите имя" в поле `author:` на свое ФИО.
2. Выполняйте задание путем редактирования файла `homework3.Rmd`.
3. После выполнения работы, убедитесь, что ваш код выполняется как в консоле, так и путем запуска knit HTML, поменяйте название сохраненного файла на `homework3_Вашеимя.Rmd` (Вашеимя поменяйте на ФИО) и отправьте на почту "itetin.emms@yandex.ru"

### Задание 1: Практика по скорости

**(a)** Создайте функцию RowMeansCalc. В ней используйте цикл *for* для вычисления средних по столбцам. 
```{r, eval = FALSE}
# Функция RowMeansCalc

library(dplyr)

RowMeansCalc  <- function(m){
  mm <- 1:ncol(m)
  for (i in 1:ncol(m)){
    mm[i] <- mean(m[,i])
  }
  return(mm)
}

mat <- matrix(seq(1:10), nrow = 2, ncol = 5)

RowMeansCalc(mat)

```

**(b)** Сгенерируйте большую матрицу из равномерного распределения
```{r, eval = FALSE}
set.seed(12345)

# дополните код для создания матрицы
a <- 6
rmat <- matrix(runif(10^a), nrow = 10^(a/2), ncol = 10^(a/2))

```

**(c)** Проверьте время выполнения кода по функции *RowMeansCalc* и с помощью векторной операции apply. Выведите сравнительную таблицу и постройте график.

```{r, eval = FALSE}
# Введите код
#install.packages("microbenchmark")
library(microbenchmark)
library(ggplot2)

tm <- microbenchmark(
               RowMeansCalc(rmat),
               apply(rmat, 2, mean)
)
tm
autoplot(tm)

```
`Tip:` Для измерения воспользуйтесь библиотекой *microbenchmark*.

### Задание 2: Практика по работе с данными

**(a)** По выборке Cars93 создайте таблицу, показывающую среднюю величину `Turn.circle`, сгруппированную по типам автомобиля и по `DriveTrain`
```{r, eval = FALSE}
# Введите код
library(dplyr)
library("MASS")

Cars93 %>%
  group_by(Type, DriveTrain) %>%
  summarize(mean(Turn.circle))

#factor(Cars93$Type)
#factor(Cars93$DriveTrain)

```

**(b)** Все ли комбинации Типа и `DriveTrain` показаны в таблице? Если нет, какие пропущены? Почему они пропущены?

> В таблице
```{r, echo=FALSE, results='markup'}
Cars93 %>%
  group_by(Type, DriveTrain) %>%
  summarize(mean(Turn.circle))
```
представлены не все комбинации Type и DriveTrain. Пропущены те, которых нет в таблице.


**(c)** В городе удобно иметь машину с маленьким радиусом поворота. Какому типу машин должны отдавать предпочтения городские водители?

> Замените этот текст решением

**(d)** Влияет ли тип привода (DriveTrain) на радиус поворота?

> Замените этот текст решением

### Задание 3: Практика по работе с map() и at()

**(a)** Команда `nlevels` говорит о числе уровней в факторной переменной. Используйте эту команду вместе с командой `summarize_if()` для получения вектора целых чисел, показывающего число уровней для каждой факторной переменной в выборке Cars93

```{r, eval = FALSE}
# Отредактируйте
```

**(b)** `levels()` возвращает возможные уровни для факторной переменной. Используйте эту команду в комбинации с `select` и `map` для создания списка всех уровней  Manufacturer, AirBags, DriveTrain, и Man.trans.avail 

```{r, eval = FALSE}
# Отредактируйте
```

**(c)** Используйте команду `toupper()` в комбинации с 
`mutate_if()` для получения новой версии Cars93, где каждая факторная переменная переименована заглавными буквами.

```{r, eval = FALSE}
# Отредактируйте
```


