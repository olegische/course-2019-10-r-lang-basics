---
title: "R Notebook"
output: html_notebook
editor_options: 
  chunk_output_type: console
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Ctrl+Shift+Enter*. 

```{r}
plot(cars)
```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.



#Lecture 08
## Microbenchmark
```{r}
library(microbenchmark)
sumRange1 <- function(s) {
 for(i in 1:length(s)) {
   s[i] <- sum(1:i)
 }
 return(s)
}

microbenchmark(sumRange1(1:10000))

# O(sqrt(n)) -- apply

sumRange3 <- function(s) {
 s[1] <- 1
 for(i in 2:length(s)) {
   s[i] <- sapply(s[i-1], sum, i)
 }
 return(s)
}

microbenchmark(sumRange3(1:10000))

sumRange2(1:100)

sumRange2 <- function(s) {
 s[1] <- 1
 for(i in 2:length(s)) {
   s[i] <- s[i-1] + i
 }
 return(s)
}

microbenchmark(sumRange2(1:10000))

sumRange4 <- function(x) {
 s=rep(1,x)
 for(i in 2:x) {
   s[i] <- s[i-1] + i
 }
 return(s)
}

microbenchmark(sumRange4(10000))

```

```{r}
library(ggplot2)
ggplot(mpg, aes(displ,hwy)) + geom_point() #no
ggplot(mpg, aes(displ,hwy,col='red')) + geom_point() #ok
ggplot(mpg, aes(displ,hwy)) + geom_point(aes(col='red')) #ok



```

